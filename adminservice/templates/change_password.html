{% include 'adminheader.html' %}
{% load static %}
<body>
 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

	<div class="wrapper">
		<div class="container">
			<div class="row">
				<div class="span3">
					{% include 'sidemenu.html' %}<!--/.sidebar-->
				</div><!--/.span3-->


				<div class="span9">

					<div class="content">

						<div class="module">
							<div class="module-head">
								<h3>Change Password</h3>
							</div>
							<div class="module-body">
									<br />


									<form class="form-horizontal row-fluid" method="post" action="{% url 'chnage_password' %}" enctype="multipart/form-data" >
											{% csrf_token %}
											<center>

    	{% if msg %}
    <script>
        Swal.fire(
            '',
            '{{msg}}',
            'error',
        )
    </script>
    {% endif %}
											</center>

										<div class="control-group">
											<label class="control-label" >Old Password:</label>
											<div class="controls">
												<input type="password" name="cpwd" class="span8" placeholder="Old Password" required>
											</div>
										</div>

										<div class="control-group">
											<label class="control-label" >New Password:</label>
											<div class="controls">
												<input type="password" id="password1" name="password" class="span8" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" placeholder="Enter Password" required>
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" >Confirm Password:</label>
											<div class="controls">
												<input type="password" id="password2" name="conf_password" class="span8" placeholder="Confirm Password" required>
											</div>
										</div>


										<div class="control-group">
											<div class="controls">
												<button type="submit" class="btn">Submit</button>
											</div>
										</div>
									</form>
							</div>
						</div>



					</div><!--/.content-->
				</div><!--/.span9-->
			</div>
		</div><!--/.container-->
	</div><!--/.wrapper-->
	    <script>
		window.onload = function () {
			document.getElementById("password1").onchange = validatePassword;
			document.getElementById("password2").onchange = validatePassword;
		}

		function validatePassword() {
			var pass2 = document.getElementById("password2").value;
			var pass1 = document.getElementById("password1").value;
			if (pass1 != pass2)
				document.getElementById("password2").setCustomValidity("Passwords Doesn't Match");
			else
				document.getElementById("password2").setCustomValidity('');
			//empty string means no validation error
		}
	</script>

	{% include 'adminfooter.html' %}

	<script src="{% static 'scripts/jquery-1.9.1.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'scripts/jquery-ui-1.10.1.custom.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'bootstrap/js/bootstrap.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'scripts/flot/jquery.flot.js' %}" type="text/javascript"></script>
</body>